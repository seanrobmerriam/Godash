<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{.DashboardData.Title}} - Godash</title>
    <link rel="stylesheet" href="/static/css/style.css">
</head>
<body>
    <header class="header">
        <div class="container">
            <div class="header-content">
                <a href="/dashboard" class="logo">Godash</a>
                <div class="user-nav">
                    <span class="user-info">Welcome, {{.User.Username}}</span>
                    <a href="/logout" class="btn btn-secondary">Logout</a>
                </div>
            </div>
        </div>
    </header>

    <main class="main">
        <div class="container">
            <div id="dashboard">
                <div class="d-flex justify-between align-center mb-4">
                    <h1 class="page-title">{{.DashboardData.Title}}</h1>
                    <div class="text-right">
                        <div id="last-refresh" class="user-info"></div>
                    </div>
                </div>

                <!-- System Stats -->
                <div class="stats-grid" id="system-stats">
                    <!-- Stats will be populated by JavaScript -->
                </div>

                <!-- Dashboard Grid -->
                <div class="dashboard-grid">
                    <!-- CPU Chart Widget -->
                    <div class="widget widget-md widget-height-md" id="widget-cpu-chart" data-widget-id="cpu-chart">
                        <div class="widget-header">
                            <h3 class="widget-title">CPU Usage</h3>
                            <button class="widget-refresh" title="Refresh">↻</button>
                        </div>
                        <div class="widget-content">
                            <!-- Content will be populated by JavaScript -->
                        </div>
                    </div>

                    <!-- Memory Metric Widget -->
                    <div class="widget widget-sm widget-height-sm" id="widget-memory-metric" data-widget-id="memory-metric">
                        <div class="widget-header">
                            <h3 class="widget-title">Memory Usage</h3>
                            <button class="widget-refresh" title="Refresh">↻</button>
                        </div>
                        <div class="widget-content">
                            <!-- Content will be populated by JavaScript -->
                        </div>
                    </div>

                    <!-- Disk Progress Widget -->
                    <div class="widget widget-sm widget-height-sm" id="widget-disk-progress" data-widget-id="disk-progress">
                        <div class="widget-header">
                            <h3 class="widget-title">Disk Space</h3>
                            <button class="widget-refresh" title="Refresh">↻</button>
                        </div>
                        <div class="widget-content">
                            <!-- Content will be populated by JavaScript -->
                        </div>
                    </div>

                    <!-- Recent Activity Widget -->
                    <div class="widget widget-md widget-height-md" id="widget-recent-activity" data-widget-id="recent-activity">
                        <div class="widget-header">
                            <h3 class="widget-title">Recent Activity</h3>
                            <button class="widget-refresh" title="Refresh">↻</button>
                        </div>
                        <div class="widget-content">
                            <!-- Content will be populated by JavaScript -->
                        </div>
                    </div>

                    <!-- Users Table Widget -->
                    <div class="widget widget-md widget-height-md" id="widget-users-table" data-widget-id="users-table">
                        <div class="widget-header">
                            <h3 class="widget-title">Recent Users</h3>
                            <button class="widget-refresh" title="Refresh">↻</button>
                        </div>
                        <div class="widget-content">
                            <!-- Content will be populated by JavaScript -->
                        </div>
                    </div>

                    <!-- System Info Widget -->
                    <div class="widget widget-md widget-height-sm" id="widget-system-info" data-widget-id="system-info">
                        <div class="widget-header">
                            <h3 class="widget-title">System Information</h3>
                            <button class="widget-refresh" title="Refresh">↻</button>
                        </div>
                        <div class="widget-content">
                            <!-- Content will be populated by JavaScript -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <script>
        // Pass initial data to JavaScript
        window.initialDashboardData = {{.DashboardData}};
        window.currentUser = {{.User}};
    </script>
    <script src="/static/js/dashboard.js"></script>
</body>
</html>